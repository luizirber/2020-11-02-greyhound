(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1:function(t,e,n){"use strict";(function(t){const e=n(67);var r=n(69),o=n(80).FASTQStream,u=n(88),i=n(120),c=n(131);const a=n(141),s=n(42),f=document.querySelector("#drag-container"),d=document.querySelector("#progress-bar"),l=document.querySelector("#download_btn"),p=document.querySelector("#results-container");let h,w=0,m=0;const b=()=>{l.disabled=!0,d.style.transform="translateX(-100%)"},g=()=>f.classList.add("dragging"),v=()=>f.classList.remove("dragging");function _(){return c(function(t,e){return function(t){return 31===t[0]&&139===t[1]}(t)?e(null,new i.Unzip):e(null,a())})}function y(){return c(function(e,n){return function(t){return">"===t.toString().charAt(0)}(e)?n(null,s.obj(u(),function(){return a.obj(function(e,n,r){t.isBuffer(e)&&(e=e.toString());JSON.parse(e),this.push(JSON.parse(e)),r()},function(){this.push(null)})}())):function(t){return"@"===t.toString().charAt(0)}(e)?n(null,new o):void n(new Error("No parser available"))})}function j(t){v(),t.preventDefault(),b();var n=t.dataTransfer.files[0],o=new r(n);w=n.size,h=n.name,o.reader.onprogress=t=>{let e=100-(m+=t.loaded)/w*100;d.style.transform=`translateX(${-e}%)`};var u=new e.ComputeParameters;u.scaled=BigInt(2e3);var c=new e.Signature(u),a=new y,s=new _;switch(a.on("data",function(t){c.add_sequence_js(t.seq)}).on("end",function(t){const e=c.to_json(),n=new window.Blob([e],{type:"application/octet-binary"}),r=window.URL.createObjectURL(n),o=document.createElement("a");o.setAttribute("href",r),o.setAttribute("download",h+".sig"),document.querySelectorAll("#download_btn a").forEach(t=>t.parentNode.removeChild(t)),l.appendChild(o),l.addEventListener("click",()=>{o.click()}),l.disabled=!1,d.style.transform="translateX(0%)",fetch("/gather",{method:"POST",body:e,headers:{"Content-Type":"application/json"}}).then(t=>t.json()).then(t=>{const e=document.createElement("table");for(const n of t){let t=e.insertRow(-1),r=new String(n).substring(n.lastIndexOf("/")+1);r=r.substring(0,r.length-4);const o=document.createElement("a");o.setAttribute("href","https://www.ncbi.nlm.nih.gov/assembly/"+r);let u=document.createTextNode(r);o.appendChild(u),t.appendChild(o)}for(;p.firstChild;)p.removeChild(p.firstChild);p.appendChild(e),console.log(t)})}),n.type){case"application/gzip":o.pipe(new i.Unzip).pipe(a);break;default:o.pipe(s).pipe(a)}}f.addEventListener("dragenter",g),f.addEventListener("dragover",g),f.addEventListener("drop",j),f.addEventListener("dragleave",v)}).call(this,n(8).Buffer)},110:function(t,e){},113:function(t,e){},115:function(t,e){},136:function(t,e){},138:function(t,e){},144:function(t,e){},146:function(t,e){},22:function(t,e,n){"use strict";(function(t){n.d(e,"b",function(){return m}),n.d(e,"a",function(){return b}),n.d(e,"c",function(){return g}),n.d(e,"d",function(){return v}),n.d(e,"e",function(){return _}),n.d(e,"f",function(){return y});var r=n(27);let o=new("undefined"==typeof TextDecoder?(0,t.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});o.decode();let u=null;function i(){return null!==u&&u.buffer===r.n.buffer||(u=new Uint8Array(r.n.buffer)),u}function c(t,e){return o.decode(i().subarray(t,t+e))}let a=0;let s=new("undefined"==typeof TextEncoder?(0,t.require)("util").TextEncoder:TextEncoder)("utf-8");const f="function"==typeof s.encodeInto?function(t,e){return s.encodeInto(t,e)}:function(t,e){const n=s.encode(t);return e.set(n),{read:t.length,written:n.length}};function d(t,e,n){if(void 0===n){const n=s.encode(t),r=e(n.length);return i().subarray(r,r+n.length).set(n),a=n.length,r}let r=t.length,o=e(r);const u=i();let c=0;for(;c<r;c++){const e=t.charCodeAt(c);if(e>127)break;u[o+c]=e}if(c!==r){0!==c&&(t=t.slice(c)),o=n(o,r,r=c+3*t.length);const e=i().subarray(o+c,o+r);c+=f(t,e).written}return a=c,o}let l=null;function p(){return null!==l&&l.buffer===r.n.buffer||(l=new Int32Array(r.n.buffer)),l}const h=new Uint32Array(2),w=new BigUint64Array(h.buffer),m=Object.freeze({murmur64_DNA:1,1:"murmur64_DNA",murmur64_protein:2,2:"murmur64_protein",murmur64_dayhoff:3,3:"murmur64_dayhoff",murmur64_hp:4,4:"murmur64_hp"});class b{static __wrap(t){const e=Object.create(b.prototype);return e.ptr=t,e}free(){const t=this.ptr;this.ptr=0,r.a(t)}constructor(){var t=r.i();return b.__wrap(t)}set scaled(t){w[0]=t;const e=h[0],n=h[1];r.j(this.ptr,e,n)}}class g{static __wrap(t){const e=Object.create(g.prototype);return e.ptr=t,e}free(){const t=this.ptr;this.ptr=0,r.b(t)}constructor(t,e,n,o,u,i,c,a){var s=r.l(t,e,n,o,u,i,c,a);return g.__wrap(s)}add_sequence_js(t){var e=d(t,r.g,r.h),n=a;r.k(this.ptr,e,n)}to_json(){try{const n=r.e.value-16;r.e.value=n,r.m(n,this.ptr);var t=p()[n/4+0],e=p()[n/4+1];return c(t,e)}finally{r.e.value+=16,r.f(t,e)}}}class v{free(){const t=this.ptr;this.ptr=0,r.c(t)}}class _{static __wrap(t){const e=Object.create(_.prototype);return e.ptr=t,e}free(){const t=this.ptr;this.ptr=0,r.d(t)}constructor(t){!function(t,e){if(!(t instanceof e))throw new Error(`expected instance of ${e.name}`);t.ptr}(t,b);var e=r.p(t.ptr);return _.__wrap(e)}add_sequence_js(t){var e=d(t,r.g,r.h),n=a;r.o(this.ptr,e,n)}to_json(){try{const n=r.e.value-16;r.e.value=n,r.q(n,this.ptr);var t=p()[n/4+0],e=p()[n/4+1];return c(t,e)}finally{r.e.value+=16,r.f(t,e)}}}const y=function(t,e){throw new Error(c(t,e))}}).call(this,n(68)(t))},27:function(t,e,n){"use strict";var r=n.w[t.i];t.exports=r;n(22);r.r()},67:function(t,e,n){"use strict";n.r(e);var r=n(22);n.d(e,"HashFunctions",function(){return r.b}),n.d(e,"ComputeParameters",function(){return r.a}),n.d(e,"KmerMinHash",function(){return r.c}),n.d(e,"KmerMinHashBTree",function(){return r.d}),n.d(e,"Signature",function(){return r.e}),n.d(e,"__wbindgen_throw",function(){return r.f})},72:function(t,e){},74:function(t,e){},84:function(t,e){},86:function(t,e){},96:function(t,e){},98:function(t,e){}}]);