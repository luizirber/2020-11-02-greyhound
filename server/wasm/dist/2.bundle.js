(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1:function(e,n,t){"use strict";(function(e){const n=t(73);var r=t(75),o=t(87).FASTQStream,i=t(94),a=t(123),c=t(134);const s=t(137),d=t(146),l=document.querySelector("#drag-container"),u=document.querySelector("#progress-bar"),f=document.querySelector("#download_btn"),p=document.querySelector("#results-container");let h,w=0,g=0;const m=()=>l.classList.add("dragging"),b=()=>l.classList.remove("dragging");function v(){return c((function(e,n){return function(e){return 31===e[0]&&139===e[1]}(e)?n(null,new a.Unzip):n(null,s())}))}function S(){return c((function(n,t){return function(e){return">"===e.toString().charAt(0)}(n)?t(null,d.obj(i(),s.obj((function(n,t,r){e.isBuffer(n)&&(n=n.toString()),JSON.parse(n),this.push(JSON.parse(n)),r()}),(function(){this.push(null)})))):function(e){return"@"===e.toString().charAt(0)}(n)?t(null,new o):void t(new Error("No parser available"))}))}function y(e){b(),e.preventDefault(),f.disabled=!0,u.style.transform="translateX(-100%)";var t=e.dataTransfer.files[0],o=new r(t);w=t.size,h=t.name,o.reader.onprogress=e=>{g+=e.loaded;let n=100-g/w*100;u.style.transform=`translateX(${-n}%)`};var i=new n.ComputeParameters;i.scaled=BigInt(2e3);var c=new n.Signature(i),s=new S,d=new v;switch(s.on("data",(function(e){c.add_sequence_js(e.seq)})).on("end",(function(e){const n=c.to_json(),t=new window.Blob([n],{type:"application/octet-binary"}),r=window.URL.createObjectURL(t),o=document.createElement("a");o.setAttribute("href",r),o.setAttribute("download",h+".sig"),document.querySelectorAll("#download_btn a").forEach(e=>e.parentNode.removeChild(e)),f.appendChild(o),f.addEventListener("click",()=>{o.click()}),f.disabled=!1,u.style.transform="translateX(0%)",fetch("/gather",{method:"POST",body:n,headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{const n=document.createElement("table");for(const t of e){let e=n.insertRow(-1),r=new String(t).substring(t.lastIndexOf("/")+1);r=r.substring(0,r.length-4);const o=document.createElement("a");o.setAttribute("href","https://www.ncbi.nlm.nih.gov/assembly/"+r);let i=document.createTextNode(r);o.appendChild(i),e.appendChild(o)}for(;p.firstChild;)p.removeChild(p.firstChild);p.appendChild(n),console.log(e)})})),t.type){case"application/gzip":o.pipe(new a.Unzip).pipe(s);break;default:o.pipe(d).pipe(s)}}l.addEventListener("dragenter",m),l.addEventListener("dragover",m),l.addEventListener("drop",y),l.addEventListener("dragleave",b)}).call(this,t(4).Buffer)},112:function(e,n){},115:function(e,n){},117:function(e,n){},139:function(e,n){},141:function(e,n){},148:function(e,n){},151:function(e,n){},153:function(e,n){},77:function(e,n){},79:function(e,n){},88:function(e,n){},90:function(e,n){}}]);